---
import MainLayout from "../layouts/MainLayout.astro";
import Typewriter from "../components/TypeWriter.vue";
import GalaxyBackground from "../components/GalaxyBackground.vue";

const socialIcons = {
  github: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"></path></svg>`,
  x: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>`,
  discord: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.59 5.88997C17.36 5.31997 16.05 4.89997 14.67 4.65997C14.5 4.95997 14.3 5.36997 14.17 5.69997C12.71 5.47997 11.26 5.47997 9.83001 5.69997C9.69001 5.36997 9.49001 4.95997 9.32001 4.65997C7.94001 4.89997 6.63001 5.31997 5.40001 5.88997C2.92001 9.62997 2.25001 13.28 2.58001 16.87C4.23001 18.1 5.82001 18.84 7.39001 19.33C7.78001 18.8 8.12001 18.23 8.42001 17.64C7.85001 17.43 7.31001 17.16 6.80001 16.85C6.94001 16.75 7.07001 16.64 7.20001 16.54C10.33 18 13.72 18 16.81 16.54C16.94 16.65 17.07 16.75 17.21 16.85C16.7 17.16 16.15 17.42 15.59 17.64C15.89 18.23 16.23 18.8 16.62 19.33C18.19 18.84 19.79 18.1 21.43 16.87C21.82 12.7 20.76 9.08997 18.61 5.88997H18.59ZM8.84001 14.67C7.90001 14.67 7.13001 13.8 7.13001 12.73C7.13001 11.66 7.88001 10.79 8.84001 10.79C9.80001 10.79 10.56 11.66 10.55 12.73C10.55 13.79 9.80001 14.67 8.84001 14.67ZM15.15 14.67C14.21 14.67 13.44 13.8 13.44 12.73C13.44 11.66 14.19 10.79 15.15 10.79C16.11 10.79 16.87 11.66 16.86 12.73C16.86 13.79 16.11 14.67 15.15 14.67Z"></path></svg>`,
  email: `<svg viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>`
}
---
<MainLayout title="首页">
  <GalaxyBackground client:only="vue" />

  <div class="content-layer">
    <div class="info-card">
      <div class="avatar-wrapper">
        <img src="/avatars/avatar1.jpg" alt="头像" class="avatar" />
      </div>

      <h1 class="nickname">Starnighter</h1>

      <Typewriter client:load />

      <div class="social-icons">
        <a href="https://github.com/starnighter" title="GitHub" target="_blank" rel="noopener noreferrer" class="social-link" >
          <Fragment set:html={socialIcons.github} />
        </a>
        <a href="https://x.com/starnighter1120" title="X" target="_blank" rel="noopener noreferrer" class="social-link" >
          <Fragment set:html={socialIcons.x} />
        </a>
        <a href="#" title="Discord" target="_blank" rel="noopener noreferrer" class="social-link icon-discord" >
          <Fragment set:html={socialIcons.discord} />
        </a>
        <a href="mailto:rheinchen@qq.com" title="Email" class="social-link" >
          <Fragment set:html={socialIcons.email} />
        </a>
      </div>
    </div>
  </div>
</MainLayout>

<style>
  .content-layer {
    position: relative;
    z-index: 1;
    width: 100%;
    min-height: calc(100vh - 60px - 65px);

    display: flex;
    justify-content: end;
    align-items: center;
    padding-bottom: 20%;
    box-sizing: border-box;
  }

  .info-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 1.5rem;
    width: 100%;
    max-width: 450px;
  }

  .avatar-wrapper {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border: 3px solid var(--color-accent);
    overflow: hidden;
    animation: avatar-halo 3s ease-out infinite;
    transition: transform 0.3s ease;
  }

  .avatar-wrapper:hover {
    transform: scale(1.05);
  }

  .avatar {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    object-fit: cover;
  }

  @keyframes avatar-halo {
    0% { box-shadow: 0 0 0 0 var(--color-accent-soft); }
    50% { box-shadow: 0 0 0 10px rgba(var(--color-accent-rgb), 0.3); }
    100% { box-shadow: 0 0 0 0 var(--color-accent-soft); }
  }

  .nickname {
    font-size: 3.2rem;
    font-weight: 800;
    color: var(--color-text-primary);
    margin: 0;
    line-height: 1.2;
  }

  .social-icons {
    display: flex;
    flex-wrap: wrap;
    gap: 1.8rem;
    justify-content: center;
    align-items: start;
    margin-top: 0.5rem;
  }

  .social-link {
    color: var(--color-text-secondary);
    transition: color 0.2s ease, transform 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
  }

  .social-link:hover {
    color: var(--color-accent);
    transform: translateY(-3px);
  }

  .social-link :global(svg) {
    width: 24px;
    height: 24px;
  }

  .icon-discord :global(svg) {
    width: 28px;
    height: 28px;
  }

  /* 移动端适配 */
  @media (max-width: 900px) {
    .content-layer {
      justify-content: center;
      padding-right: 0;
      padding-top: 300px;
    }
  }
</style>